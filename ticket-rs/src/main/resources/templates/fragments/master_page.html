<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity">

<head th:fragment="header">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticket Reserve System</title>
    <link rel="stylesheet" type="text/css" media="all"
     th:href="@{/css/bootstrap.min.css}">
      <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/site.css}">
     <script th:src="@{/js/vue.global.js}" ></script>
     <script th:src="@{/js/face-api.js}" ></script>
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-primary fw-bolder" 
     th:fragment="navbar">
        <div class="container-fluid d-flex justify-content-between">
            <img width="150" height="70" src="/images/logo.png" class="rounded"  alt="logo"/>
        
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-5 mb-lg-0 text-white">
                    <li class="nav-item">
                        <a class="nav-link text-white mx-2" aria-current="page" href="/">Home</a>
                    </li>
                   <!-- <li class="nav-item" sec:authorize="hasAuthority('ADMIN')">-->
                    <li class="nav-item">
                        <a class="nav-link mx-2 text-white" href="/events">Events</a>
                    </li>
                     
                    
                </ul>
               <ul class="navbar-nav" >
				    <li class="nav-item" sec:authorize="!isAuthenticated()">
                        <a class="nav-link mx-2 text-white" href="/login">Login</a>
                    </li>
					<li class="nav-item dropdown" sec:authorize="isAuthenticated()"><a
						class="nav-link dropdown-toggle text-white" href="#"
						id="navbarDropdown" role="button" data-bs-toggle="dropdown"
						aria-expanded="false"> <span > Welcome </span> <span
							th:text="${#authentication.principal.username}"></span>
				    
					</a>
						<ul class="dropdown-menu w-100" aria-labelledby="navbarDropdown">
							
							<li class="w-100">
								<form class="d-flex w-100" action="#" method="POST"
									th:action="@{/logout}">
									<input type="hidden" th:value="${#authentication.principal.username}" name="username"/>
									<button type="submit" class="dropdown-item w-100"
										>Logout</button>
								</form>
							</li>
							<li class="w-100 mt-1">
								 <a class="dropdown-item w-100 text-decoration-none" href="/changepass">Change password</a>
							</li>

						</ul></li>
				</ul>
            </div>
        </div>
    </nav>
    <div class="alert alert-danger" th:if="${error}" th:text="${error}"></div>
 
    <div th:fragment="scripts">
        <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
    </div>
</body>
    </html>
